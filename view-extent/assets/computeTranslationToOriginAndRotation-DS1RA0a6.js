import{bF as O,ff as N,fg as s,aO as S,fh as M,fi as E,l as A,fj as P,j as T}from"./index-HvZUpAiV.js";function R(e,a,t){const i=Math.sin(e),c=Math.cos(e),u=Math.sin(a),r=Math.cos(a),n=t;return n[0]=-i,n[4]=-u*c,n[8]=r*c,n[12]=0,n[1]=c,n[5]=-u*i,n[9]=r*i,n[13]=0,n[2]=0,n[6]=r,n[10]=u,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function F(e,a,t){return R(e,a,t),O(t,t),t}function h(e,a,t,i){const c=N(e,i);if(c==null)return!1;const u=c.source.spatialReferenceId,r=c.dest.spatialReferenceId;if(u===r&&!_(r)&&(u!==s.UNKNOWN||S(e,i)))return M(t,a),!0;if(_(r)){const l=E[u][s.LON_LAT],C=E[s.LON_LAT][r];return l!=null&&C!=null&&(l(a,0,f,0),C(f,0,o,0),R(L*f[0],L*f[1],t),t[12]=o[0],t[13]=o[1],t[14]=o[2],!0)}const n=_(u);if((r===s.WEB_MERCATOR||r===s.PLATE_CARREE||r===s.WGS84||r===s.CGCS2000)&&(u===s.WGS84||n||u===s.WEB_MERCATOR||u===s.CGCS2000)){const l=E[u][s.LON_LAT],C=E[s.LON_LAT][r];return l!=null&&C!=null&&(l(a,0,f,0),C(f,0,o,0),n?F(L*f[0],L*f[1],t):P(t),t[12]=o[0],t[13]=o[1],t[14]=o[2],!0)}return!1}function _(e){return e===s.SPHERICAL_ECEF||e===s.SPHERICAL_MARS_PCPF||e===s.SPHERICAL_MOON_PCPF||e===s.WGS84_ECEF}const L=T(1),f=A(),o=A();export{h as m,R as n};
